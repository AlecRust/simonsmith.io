define("modules/morePosts",["require","templates/partials/excerpt","jquery","handlebars"],function(e){e("templates/partials/excerpt");var t=e("jquery"),n=e("handlebars"),r=n.templates["excerpt.mustache"];return{offset:5,offsetIncrement:5,init:function(e){this.container=t(e),this.loadBtn=t("<button></button>",{"class":"load-posts",text:"Load more posts"}),this.loadBtn.appendTo(this.container),this.attachEvents()},attachEvents:function(){this.loadBtn.on("click",this.getPosts.bind(this))},getPosts:function(e){var n="";return t.getJSON("more-posts/?limit=5&offset="+this.offset,function(e){if(e.length==0){this.loadBtn.remove(),this.resetCounter();return}t.each(e,function(e,t){n+=r(t)}),this.offset+=this.offsetIncrement,this.loadBtn.before(n)}.bind(this)),e&&e.preventDefault(),this},resetCounter:function(){return this.offset=5,this.offsetIncrement=5,this}}});